@using System.Security.Claims;
@model GraduationWeb.Models.ViewModels.UpdateUserInfoVM

@*요걸 포함 시켜줘야 한다. 포함하는 방법은 wwwroot/lib/bootstrap/dist/css에서 끌어오기로 한다.*@
<script src="~/lib/jquery/dist/jquery.js"></script>

<form class="myInfo" asp-controller="ManageUser" asp-action="Index" method="post" style="text-align: center" enctype="multipart/form-data">
    <div>
        <h1>ID: @Context.User.FindFirstValue(ClaimTypes.NameIdentifier)</h1>
    </div>
    <div>
        <img src="data:image;base64, @Convert.ToBase64String(ViewBag.MyInfo.Image)" style="width : 30%; height : 30%;"/>
    </div>
    <div>
        <input class="btn btn-primary" asp-for="FormFile" type="file" style="width : 300px;"/>
    </div>
    <div>
        <div>
            <label style="margin: 10px 0px 5px 0px">
                Name
                <input type="text" placeholder="이름" asp-for="Name" value=@ViewBag.MyInfo.Name />
                <span asp-validation-for="Name"></span>
            </label>
        </div>
        <div>
            <label>
                Password
                <input type="password" placeholder="비밀번호" asp-for="Password" />
                <span asp-validation-for="Password"></span>
            </label>
        </div>
        <div>
            <label>
                Phone
                <input type="tel" placeholder="전화번호" asp-for="Phone" value=@ViewBag.MyInfo.Phone />
                <span asp-validation-for="Phone"></span>
            </label>
        </div>
        <div>
            <label>
                Address
                <input type="text" placeholder="주소" asp-for="Address" value=@ViewBag.MyInfo.Address />
                <span asp-validation-for="Address"></span>
            </label>
        </div>
        <div>
            <label>
                Email
                <input type="text" placeholder="이메일" asp-for="Email" value=@ViewBag.MyInfo.Email />
                <span asp-validation-for="Email"></span>
            </label>
        </div>
    </div>
    <button class="btn btn-primary" type="submit" style="margin: 10px 5%; ">정보 갱신</button>
    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#Check"style="margin: 10px 5%; ">
        계정 삭제
    </button>

</form>


<div class="modal fade" id="Check" role="dialog">
    <div class="modal-dialog">
        <!--Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">계정을 삭제하시겠습니까?</h3>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body" style="text-align : center">
                <a href="/ManageUser/DeleteUser" class="btn btn-primary">계정탈퇴</a>
                <button type="button" data-dismiss="modal">취소</button>
            </div>
        </div>
    </div>
</div>


<button id="BTNcheck" type="button">하이</button>
<script>
    $(function () {
        $("#BTNcheck").click(function () {
            alert("하이");
        });
    });
</script>
